---
import { getCollection } from 'astro:content';
import PluginComponent from '../../components/plugin.astro';

export async function getStaticPaths() {
	console.log('Generating static paths for plugin pages...');

	const plugins = await getCollection('plugins');

	return plugins.map(plugin => {
		return {
			params: {
				plugin: plugin.id,
			},
			props: {
				pluginId: plugin.id,
			},
		};
	});
}

const { pluginId } = Astro.props;
---

<PluginComponent pluginId={pluginId} />
